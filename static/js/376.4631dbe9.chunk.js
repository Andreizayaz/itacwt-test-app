"use strict";(self.webpackChunkitacwt_test_app=self.webpackChunkitacwt_test_app||[]).push([[376],{107:(e,t,a)=>{a.d(t,{YW:()=>D,gm:()=>M,Yt:()=>C});var n=a(647),s=a(43),l=a(984);const r=e=>parseInt(e)<10?"0".concat(e):e,o=e=>{if(!e.length)return"";const t=new Date(e),a=t.toLocaleDateString(l.x8).split("/").map(r).join("/"),n=t.toLocaleTimeString();return"".concat(a,", ").concat(n)},i=(e,t)=>{const a={},n=e=>{let[t,s]=e;return(null===s||void 0===s?void 0:s.constructor)!==Object?(a[t]=s,{[t]:s}):Object.entries(s).map(n)};return n([e,t]),a},c=e=>{const t=structuredClone(e);for(const n in t){var a;if(Object.prototype.hasOwnProperty.call(t,n))if(n===l.XQ&&(t[n]=t[n]?l.Hc:l._M),l.o1.includes(n)&&(t[n]=o(t[n])),(null===(a=t[n])||void 0===a?void 0:a.constructor)===Object){const e=i(n,t[n]);Object.assign(t,e),delete t[n]}}return t},d=e=>{if(e===l.XQ)return l.mL;if(l.o1.includes(e)){const t=l.o1.find((t=>t===e));return l.jn.find((e=>null===t||void 0===t?void 0:t.includes(e)))}return e};const u=a(154).A.create({baseURL:"http://localhost:5000/"}),p=async e=>(e=>{const t=e.map((e=>Object.keys(e))).find((e=>Math.max(e.length)));return e.map((e=>{const a=null===t||void 0===t?void 0:t.filter((t=>!Object.keys(e).includes(t)));return null===a||void 0===a||a.forEach((t=>e[t]="")),e}))})((await u.get(e)).data),h=async(e,t)=>await u.patch(e,t);var m=a(3),v=a(12);const f=e=>{const[t,a]=(0,s.useState)([]),n=(0,m.wA)(),l=(0,m.d4)(v.BH);return(0,s.useEffect)((()=>{Promise.resolve(p(e)).then((e=>{n((0,v.Q9)(e))}))}),[n,e]),(0,s.useEffect)((()=>{const e=l.map(c);a(e)}),[l]),{displayData:t}},j=e=>{const[t,a]=(0,s.useState)([]);return(0,s.useEffect)((()=>{if(e.length){const t=e.map((e=>Object.keys(e))).find((e=>Math.max(Object.keys(e).length)));if(null!==t&&void 0!==t&&t.length){const e=t.filter((e=>e!==l.ID)).map(d);a(e)}}}),[e]),{tableHeadings:t}},b=e=>{const t=(0,m.wA)(),[a,n]=(0,s.useState)({}),[l,r]=(0,s.useState)(),[o,i]=(0,s.useState)(),c=(0,m.d4)(v.BH),{isOpen:d,openModal:u,closeModal:f}=(()=>{const[e,t]=(0,s.useState)(!1);return{isOpen:e,openModal:()=>t(!0),closeModal:()=>t(!1)}})();return{openEditForm:e=>{if(e.target.classList.contains("edit-btn")&&e.target.closest("tr")){var t;const a=null===(t=e.target.closest("tr"))||void 0===t?void 0:t.id,n=c.find((e=>{var t;return(null===(t=e.id)||void 0===t?void 0:t.toString())===a}));r(n),u(),a&&i(a)}},dataForEdit:l,isOpen:d,closeModal:f,submitData:async(n,s)=>{n.preventDefault(),s?await h("".concat(e,"/").concat(o),{...a,[s]:new Date}):await h("".concat(e,"/").concat(o),a),f();const l=await p(e);t((0,v.Q9)(l))},handleInput:e=>n({[e.target.name]:e.target.value})}};var g=a(114);const x="title",S="all",y=(e,t)=>{const a=(0,m.d4)(g.M),[n,r]=(0,s.useState)({search:"",filter:S,sort:""}),o=(0,m.wA)();(0,s.useEffect)((()=>{const s=a.filter((t=>((e,t,a)=>{for(let s=0;s<t.length;s++){var n;if(e.hasOwnProperty(t[s]))return null===(n=e[t[s]])||void 0===n?void 0:n.toLowerCase().includes(a.toLowerCase())}})(t,e,n.search))).filter((e=>{switch(n.filter){case l.Hc:return null===e||void 0===e?void 0:e.active;case l._M:return!(null!==e&&void 0!==e&&e.active);default:return!0}})).sort(((e,a)=>{var s,l;return"by asc"===n.sort?null===(l=e[t])||void 0===l?void 0:l.localeCompare(a[t]):null===(s=a[t])||void 0===s?void 0:s.localeCompare(e[t])}));o((0,v.Cp)(s))}),[n]);return{handleSearchInput:e=>{r({...n,search:e.target.value})},handleSelectStatus:e=>{r({...n,filter:e.target.value})},handleSort:e=>{r({...n,sort:e.target.value})}}};var O=a(888);var I=a(579);const w=e=>{let{options:t,filterOptions:a,handleInput:n,handleChange:s,handleFilter:l}=e;return(0,I.jsxs)("div",{className:"controls",children:[(0,I.jsx)("input",{type:"text",placeholder:"search",onInput:e=>n(e)}),(0,I.jsx)("select",{name:"status",onChange:e=>{s(e)},children:t.map((e=>(0,I.jsx)("option",{value:e,selected:e===S,children:e},e)))}),(0,I.jsx)("select",{name:"filterOptions",onChange:e=>{l(e)},children:a.map((e=>(0,I.jsx)("option",{value:e,disabled:"reset"===e,selected:"reset"===e,children:e},e)))})]})},D=()=>{const{displayData:e}=f(O.b7),{tableHeadings:t}=j(e),{dataForEdit:a,openEditForm:s,isOpen:r,closeModal:o,submitData:i,handleInput:c}=b(O.b7),{handleSearchInput:d,handleSelectStatus:u,handleSort:p}=y(["title"],"title");return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(w,{options:[S,l.Hc,l._M],handleInput:e=>d(e),handleChange:u,handleFilter:p,filterOptions:["reset","by desc","by asc"]}),(0,I.jsx)(n.XI,{tableData:e,tableHeadings:t,openEdit:s}),r&&(0,I.jsx)(n.aF,{heading:l.Dm,closeModal:o,children:(0,I.jsxs)("form",{onSubmit:e=>i(e,l.im),children:[(0,I.jsxs)("div",{className:"form-group",children:[(0,I.jsx)("label",{children:x}),(0,I.jsx)("input",{type:"text",placeholder:x,defaultValue:a&&a[x],name:x,onInput:e=>c(e)})]}),(0,I.jsx)("input",{type:"submit",value:l.PY})]})})]})},F="description",M=()=>{const{displayData:e}=f(O.dY),{tableHeadings:t}=j(e),{dataForEdit:a,openEditForm:s,isOpen:r,closeModal:o,submitData:i,handleInput:c}=b(O.dY),{handleSearchInput:d,handleSelectStatus:u,handleSort:p}=y(["description"],"description");return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(w,{options:[S,l.Hc,l._M],handleInput:e=>d(e),handleChange:u,handleFilter:p,filterOptions:["reset","by desc","by asc"]}),(0,I.jsx)(n.XI,{tableData:e,tableHeadings:t,openEdit:s}),r&&(0,I.jsx)(n.aF,{heading:l.Dm,closeModal:o,children:(0,I.jsxs)("form",{onSubmit:e=>i(e),children:[(0,I.jsxs)("div",{className:"form-group",children:[(0,I.jsx)("label",{children:F}),(0,I.jsx)("input",{type:"text",placeholder:F,defaultValue:a&&a[F],name:F,onInput:e=>c(e)})]}),(0,I.jsx)("input",{type:"submit",value:l.PY})]})})]})},E="name",C=()=>{const{displayData:e}=f(O.z6),{tableHeadings:t}=j(e),{dataForEdit:a,openEditForm:s,isOpen:r,closeModal:o,submitData:i,handleInput:c}=b(O.z6),{handleSearchInput:d,handleSelectStatus:u,handleSort:p}=y(["name"],"name");return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(w,{options:["all",l.Hc,l._M],handleInput:e=>d(e),handleChange:u,handleFilter:p,filterOptions:["reset","by desc","by asc"]}),(0,I.jsx)(n.XI,{tableData:e,tableHeadings:t,openEdit:s}),r&&(0,I.jsx)(n.aF,{heading:l.Dm,closeModal:o,children:(0,I.jsxs)("form",{onSubmit:e=>i(e,l.im),children:[(0,I.jsxs)("div",{className:"form-group",children:[(0,I.jsx)("label",{children:E}),(0,I.jsx)("input",{type:"text",placeholder:E,defaultValue:a&&a[E],name:E,onInput:e=>c(e)})]}),(0,I.jsx)("input",{type:"submit",value:l.PY})]})})]})}},376:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var n=a(107);const s="Products page";var l=a(647),r=a(579);const o=()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.JP,{title:s}),(0,r.jsx)(l.Av,{heading:s}),(0,r.jsx)(n.Yt,{})]})}}]);
//# sourceMappingURL=376.4631dbe9.chunk.js.map